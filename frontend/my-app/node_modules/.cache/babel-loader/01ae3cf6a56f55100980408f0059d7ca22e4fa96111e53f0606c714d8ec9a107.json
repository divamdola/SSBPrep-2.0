{"ast":null,"code":"import axiosInstance from \"../utils/axiosInstance\";\nimport { ALL_PRODUCTS_REQUEST, ALL_PRODUCTS_SUCCESS, ALL_PRODUCTS_FAIL, CLEAR_ERRORS } from \"../constants/productConstants\";\nexport const getProducts = category => async dispatch => {\n  try {\n    dispatch({\n      type: ALL_PRODUCTS_REQUEST\n    });\n    const {\n      data\n    } = await axiosInstance.get(`/products?category=${category}`);\n    console.log(\"Full API Response:\", data); // ✅ Log the entire API response\n\n    if (!data || !data.products) {\n      throw new Error(\"API response does not contain 'products' field\");\n    }\n    dispatch({\n      type: ALL_PRODUCTS_SUCCESS,\n      payload: data.products\n    });\n    console.log(\"Dispatched Payload:\", data.products); // ✅ Ensure this is an array\n  } catch (error) {\n    var _error$response, _error$response2, _error$response2$data;\n    console.error(\"API Error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    dispatch({\n      type: ALL_PRODUCTS_FAIL,\n      payload: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || \"Error fetching products\"\n    });\n  }\n};\n\n// Clear Errors\nexport const clearErrors = () => async dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};","map":{"version":3,"names":["axiosInstance","ALL_PRODUCTS_REQUEST","ALL_PRODUCTS_SUCCESS","ALL_PRODUCTS_FAIL","CLEAR_ERRORS","getProducts","category","dispatch","type","data","get","console","log","products","Error","payload","error","_error$response","_error$response2","_error$response2$data","response","message","clearErrors"],"sources":["C:/Users/divya/Desktop/Projects/SSBPrep/frontend/my-app/src/actions/productActions.js"],"sourcesContent":["import axiosInstance from \"../utils/axiosInstance\";\r\nimport {\r\n    ALL_PRODUCTS_REQUEST,\r\n    ALL_PRODUCTS_SUCCESS,\r\n    ALL_PRODUCTS_FAIL,\r\n    CLEAR_ERRORS,\r\n} from \"../constants/productConstants\";\r\n\r\nexport const getProducts = (category) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ALL_PRODUCTS_REQUEST });\r\n\r\n    const { data } = await axiosInstance.get(`/products?category=${category}`);\r\n    \r\n    console.log(\"Full API Response:\", data); // ✅ Log the entire API response\r\n    \r\n    if (!data || !data.products) {\r\n      throw new Error(\"API response does not contain 'products' field\");\r\n    }\r\n\r\n    dispatch({\r\n      type: ALL_PRODUCTS_SUCCESS,\r\n      payload: data.products,\r\n    });\r\n\r\n    console.log(\"Dispatched Payload:\", data.products); // ✅ Ensure this is an array\r\n  } catch (error) {\r\n    console.error(\"API Error:\", error.response?.data || error.message);\r\n    dispatch({\r\n      type: ALL_PRODUCTS_FAIL,\r\n      payload: error.response?.data?.message || \"Error fetching products\",\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n// Clear Errors\r\nexport const clearErrors = () => async (dispatch) => {\r\n    dispatch({\r\n        type: CLEAR_ERRORS,\r\n    });\r\n};\r\n"],"mappings":"AAAA,OAAOA,aAAa,MAAM,wBAAwB;AAClD,SACIC,oBAAoB,EACpBC,oBAAoB,EACpBC,iBAAiB,EACjBC,YAAY,QACT,+BAA+B;AAEtC,OAAO,MAAMC,WAAW,GAAIC,QAAQ,IAAK,MAAOC,QAAQ,IAAK;EAC3D,IAAI;IACFA,QAAQ,CAAC;MAAEC,IAAI,EAAEP;IAAqB,CAAC,CAAC;IAExC,MAAM;MAAEQ;IAAK,CAAC,GAAG,MAAMT,aAAa,CAACU,GAAG,CAAC,sBAAsBJ,QAAQ,EAAE,CAAC;IAE1EK,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEH,IAAI,CAAC,CAAC,CAAC;;IAEzC,IAAI,CAACA,IAAI,IAAI,CAACA,IAAI,CAACI,QAAQ,EAAE;MAC3B,MAAM,IAAIC,KAAK,CAAC,gDAAgD,CAAC;IACnE;IAEAP,QAAQ,CAAC;MACPC,IAAI,EAAEN,oBAAoB;MAC1Ba,OAAO,EAAEN,IAAI,CAACI;IAChB,CAAC,CAAC;IAEFF,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEH,IAAI,CAACI,QAAQ,CAAC,CAAC,CAAC;EACrD,CAAC,CAAC,OAAOG,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,gBAAA,EAAAC,qBAAA;IACdR,OAAO,CAACK,KAAK,CAAC,YAAY,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAACI,QAAQ,cAAAH,eAAA,uBAAdA,eAAA,CAAgBR,IAAI,KAAIO,KAAK,CAACK,OAAO,CAAC;IAClEd,QAAQ,CAAC;MACPC,IAAI,EAAEL,iBAAiB;MACvBY,OAAO,EAAE,EAAAG,gBAAA,GAAAF,KAAK,CAACI,QAAQ,cAAAF,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBT,IAAI,cAAAU,qBAAA,uBAApBA,qBAAA,CAAsBE,OAAO,KAAI;IAC5C,CAAC,CAAC;EACJ;AACF,CAAC;;AAKD;AACA,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM,MAAOf,QAAQ,IAAK;EACjDA,QAAQ,CAAC;IACLC,IAAI,EAAEJ;EACV,CAAC,CAAC;AACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}